<section
  id="highlight"
  class="relative min-h-screen flex items-center justify-center bg-hero-pattern bg-cover bg-center bg-fixed bg-no-repeat pt-20 overflow-x-hidden"
  aria-label="Destaque Principal"
>
  <div class="absolute inset-0 bg-dark/90 backdrop-blur-[2px] z-0"></div>

  <div class="absolute inset-0 bg-gradient-to-r from-dark via-dark/80 to-transparent z-0"></div>

  <div
    class="absolute top-1/4 left-1/4 w-[500px] h-[500px] bg-accent/10 rounded-full blur-[120px] z-0 pointer-events-none animate-pulse-slow"
  ></div>

  <div
    class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center"
  >
    <div class="text-center lg:text-left pt-10 lg:pt-0 relative order-2 lg:order-1">
      <div
        class="inline-flex items-center gap-3 py-2 px-5 rounded-full bg-dark/40 backdrop-blur-md border border-yellow-500/30 shadow-[0_0_15px_rgba(234,179,8,0.1)] hover:shadow-[0_0_25px_rgba(234,179,8,0.2)] hover:border-yellow-500/50 hover:bg-white/5 transition-all duration-300 cursor-default group mb-8"
        data-aos="fade-down"
      >
        <span class="relative flex h-2 w-2">
          <span
            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75 duration-1000"
          ></span>
          <span
            class="relative inline-flex rounded-full h-2 w-2 bg-yellow-500 group-hover:scale-125 transition-transform duration-300"
          ></span>
        </span>
        <span
          class="text-yellow-50 text-xs font-bold tracking-[0.2em] uppercase group-hover:text-white transition-colors"
        >
          Feirão de Seminovos
        </span>
      </div>

      <h1
        class="text-5xl md:text-6xl lg:text-7xl font-black text-white mb-6 leading-[1.1] tracking-tight drop-shadow-2xl"
        data-aos="fade-up"
        data-aos-delay="100"
      >
        SEU PRÓXIMO <br />CARRO
        <span class="text-yellow-400">ESTÁ AQUI</span>
      </h1>

      <p
        class="mt-6 text-lg md:text-xl text-gray-300 mb-10 font-light max-w-lg mx-auto lg:mx-0 leading-relaxed"
        data-aos="fade-up"
        data-aos-delay="200"
      >
        Concessionária com mais de <strong class="text-white">300 seminovos revisados</strong>.
        Garantia de procedência, taxas exclusivas e a melhor avaliação do seu usado na troca.
      </p>

      <div
        class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <a
          href="#showroom"
          (click)="scrollToSection($event, 'showroom')"
          class="group relative px-8 py-4 bg-accent hover:bg-accentHover text-white font-bold rounded-full transition-all shadow-[0_0_20px_rgba(180,83,9,0.4)] hover:shadow-[0_0_30px_rgba(180,83,9,0.6)] flex items-center justify-center gap-3 overflow-hidden transform hover:-translate-y-1"
        >
          <span class="relative z-10">Ver Estoque</span>
          <i
            data-lucide="arrow-right"
            class="w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"
          ></i>
          <div
            class="absolute inset-0 h-full w-full scale-0 rounded-full transition-all duration-300 group-hover:scale-100 group-hover:bg-white/10"
          ></div>
        </a>

        <a
          href="#financing"
          (click)="scrollToSection($event, 'financing')"
          class="px-8 py-4 bg-white/5 backdrop-blur-sm border border-white/10 hover:border-white/30 text-white hover:text-white font-bold rounded-full transition-all flex items-center justify-center transform hover:-translate-y-1 hover:bg-white/10"
        >
          Simular Financiamento
        </a>
      </div>

      <div
        class="mt-12 flex items-center justify-center lg:justify-start gap-8 opacity-80"
        data-aos="fade-up"
        data-aos-delay="400"
      >
        <div class="flex items-center gap-3 group cursor-default">
          <div
            class="p-2 rounded-full bg-white/5 group-hover:bg-accent/20 transition-colors border border-white/5"
          >
            <i data-lucide="shield-check" class="w-5 h-5 text-yellow-400"></i>
          </div>
          <div class="flex flex-col">
            <span class="text-[10px] text-gray-400 uppercase tracking-wider font-semibold"
              >Garantia</span
            >
            <span class="text-sm text-white font-bold">Total</span>
          </div>
        </div>
        <div class="flex items-center gap-3 group cursor-default">
          <div
            class="p-2 rounded-full bg-white/5 group-hover:bg-accent/20 transition-colors border border-white/5"
          >
            <i data-lucide="check-circle" class="w-5 h-5 text-yellow-400"></i>
          </div>
          <div class="flex flex-col">
            <span class="text-[10px] text-gray-400 uppercase tracking-wider font-semibold"
              >Veículos</span
            >
            <span class="text-sm text-white font-bold">100% Revisados</span>
          </div>
        </div>
      </div>
    </div>

    <div
      class="relative mt-0 lg:mt-0 perspective-1000 h-[500px] lg:h-[700px] flex items-center justify-center order-1 lg:order-2"
      data-aos="zoom-in"
      data-aos-delay="400"
    >
      <!-- CARROSSEL 3D: Uso de [src] para binding dinâmico -->
      <model-viewer
        [src]="currentModelSrc"
        alt="Carro Destaque 3D"
        camera-orbit="45deg 75deg 100%"
        min-camera-orbit="auto 75deg 105%"
        max-camera-orbit="auto 75deg 200%"
        field-of-view="25deg"
        auto-rotate
        rotation-per-second="3deg"
        camera-controls
        shadow-intensity="2"
        shadow-softness="0.5"
        exposure="1"
        touch-action="pan-y"
        class="focus:outline-none cursor-grab active:cursor-grabbing transition-opacity duration-500 ease-in-out"
        [class.opacity-0]="isTransitioning"
        [class.opacity-100]="!isTransitioning"
        disable-zoom
      >
        <button
          slot="ar-button"
          class="absolute bottom-6 right-6 bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white hover:text-dark text-white px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wider transition-all flex items-center gap-2"
        >
          <i data-lucide="smartphone" class="w-4 h-4"></i>
          Ver em AR
        </button>
      </model-viewer>

      <!-- Indicador de Carrossel -->
      <div class="absolute bottom-20 right-10 flex flex-col gap-2 z-20 pointer-events-none">
        <div
          *ngFor="let car of carModels; let i = index"
          class="w-1.5 h-1.5 rounded-full transition-all duration-300"
          [class.bg-yellow-400]="i === currentCarIndex"
          [class.h-4]="i === currentCarIndex"
          [class.bg-white/20]="i !== currentCarIndex"
        ></div>
      </div>

      <div
        class="absolute bottom-10 left-1/2 -translate-x-1/2 text-white/40 text-[10px] uppercase tracking-[0.3em] flex items-center gap-2 z-0 pointer-events-none animate-pulse font-medium"
      >
        <i data-lucide="hand-metal" class="w-4 h-4"></i> 360° Interativo
      </div>
    </div>
  </div>

  <a
    href="#showroom"
    (click)="scrollToSection($event, 'showroom')"
    class="absolute bottom-8 left-1/2 -translate-x-1/2 text-white/20 hover:text-white transition-colors animate-bounce cursor-pointer z-20 p-2"
    aria-label="Rolar para baixo"
  >
    <i data-lucide="chevron-down" class="w-6 h-6"></i>
  </a>
</section>
